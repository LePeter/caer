IF (NOT DVS128)
	SET(DVS128 0 CACHE BOOL "Enable support for DVS128 devices")
ENDIF()

IF (NOT DAVISFX2)
	SET(DAVISFX2 0 CACHE BOOL "Enable support for DAVIS FX2 devices (DAVIS240A/B/C)")
ENDIF()

IF (NOT DAVISFX3)
	SET(DAVISFX3 0 CACHE BOOL "Enable support for DAVIS FX3 devices (new chips)")
ENDIF()

IF (NOT DYNAPSEFX2)
	SET(DYNAPSEFX2 0 CACHE BOOL "Enable support for DYNAPSE (neuromorphic processor)")
ENDIF()

IF (NOT DYNAPSEFX2 AND NOT DVS128 AND NOT DAVISFX2 AND NOT DAVISFX3 AND NOT ENABLE_FILE_INPUT AND NOT ENABLE_NETWORK_INPUT)
	MESSAGE(SEND_ERROR "Please specify one of the following options to select a supported device: DVS128, DAVISFX2, DAVISFX3, or DYNAPSEFX2."
		" Or select an external input source: ENABLE_FILE_INPUT, ENABLE_NETWORK_INPUT.")
	RETURN()
ENDIF()

IF (DVS128)
	ADD_LIBRARY(dvs128 SHARED dvs128.c)

	SET_TARGET_PROPERTIES(dvs128
		PROPERTIES
		PREFIX "caer_"
	)

	TARGET_LINK_LIBRARIES(dvs128 ${CAER_C_LIBS})
ENDIF()

IF (DAVISFX2)
	ADD_LIBRARY(davisfx2 SHARED davis_common.c davis_fx2.c)

	SET_TARGET_PROPERTIES(davisfx2
		PROPERTIES
		PREFIX "caer_"
	)

	TARGET_LINK_LIBRARIES(davisfx2 ${CAER_C_LIBS})
ENDIF()

IF (DAVISFX3)
	ADD_LIBRARY(davisfx3 SHARED davis_common.c davis_fx3.c)

	SET_TARGET_PROPERTIES(davisfx3
		PROPERTIES
		PREFIX "caer_"
	)

	TARGET_LINK_LIBRARIES(davisfx3 ${CAER_C_LIBS})
ENDIF()

IF (DYNAPSEFX2)
	ADD_LIBRARY(dynapsefx2 SHARED dynapse_common.c dynapse_fx2.c gen_spikes.c)

	SET_TARGET_PROPERTIES(dynapsefx2
		PROPERTIES
		PREFIX "caer_"
	)

	TARGET_LINK_LIBRARIES(dynapsefx2 ${CAER_C_LIBS})
ENDIF()
